(()=>{var y=Object.defineProperty;var C=(n,t,e)=>t in n?y(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var f=(n,t,e)=>(C(n,typeof t!="symbol"?t+"":t,e),e);var E={subtree:!0,attributes:!0,childList:!0,characterData:!1,characterDataOldValue:!1},o=class extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"closed"}),this.shadow.appendChild(this.template.content.cloneNode(!0)),this.initElements()}connectedCallback(){this.disconnectController=new AbortController,this.disconnectedSignal=this.disconnectController.signal,this.addListeners()}disconnectedCallback(){this.disconnectController.abort(),this.removeMutations()}initElements(){for(let t of Object.keys(this.elements)){let e=Array.from(this.shadow.querySelectorAll(this.elements[t]));this[t]=e?.length===1?e[0]:e}return this}addListeners(){return this.addEvents().addMutations()}addEvents(){for(let t of Object.keys(this.listeners)){let e=this.listeners[t],i;for(let r of Object.keys(e)){let a=t==="root"?[this.getRootNode()]:Array.from(this.shadow.querySelectorAll(t));typeof e[r]=="function"?i=e[r]:(console.group("TypeError: EventHandler"),console.error("EventHandler is not a function"),console.error("Handler Configuration: %o",e),console.groupEnd()),a.forEach(s=>{s.addEventListener(r,i,{signal:this.disconnectedSignal})})}}return this}addMutations(){if(!!this.hasMutations){this.initMutationObserver();for(let t of Object.keys(this.mutations)){let e=t==="root"?this:this[t];this.mutationCallbacks=[...this.mutationCallbacks||[],{node:e,callbacks:this.mutations[t]}]}return this}}removeMutations(){this._mutationObserver&&this._mutationObserver.disconnect()}initMutationObserver(){if(!this._mutationObserver){let t=this.mutationObserverOptions||E;this._mutationObserver=new MutationObserver(this.mutationHandler.bind(this)),this._mutationObserver.observe(this,t),this._mutationObserver.observe(this.shadow,t)}}mutationHandler(t,e){for(let i of t){let r=this.mutationCallbacks.find(a=>Array.isArray(a.node)?a.node.filter(s=>s===i.target).length>0:a.node===i.target)?.callbacks;r&&Object.values(r).forEach(a=>{[a].flat().filter(s=>s[i.type]).forEach(s=>{try{s[i.type](i,e)}catch{console.group("TypeError: MutationHandler"),console.error("MutationHandler is not a function"),console.error("Mutation: %o",i),console.error("Handler Configuration: %o",s),console.groupEnd()}})})}}static initComponent(t,e,i){e.prototype.template=document.createElement("template"),e.prototype.template.innerHTML=i,customElements.define(t,e)}get elements(){return{}}get listeners(){return{}}get mutations(){return{}}get hasMutations(){return Object.keys(this.mutations).length>0}};var p=24,k="https://dummyjson.com/products",u=class extends o{get elements(){return{items:".items"}}async connectedCallback(){if(console.time("Category"),super.connectedCallback(),this.dataset.pwa==="true")try{let t=await this.load(),e=this.initProducts(t);this.render(e)}catch(t){console.error(t)}console.timeEnd("Category")}async load(){console.groupCollapsed("Start load timer."),console.time("load");let i=(await(await fetch(k)).json())?.products?.slice(0,p);return console.timeEnd("load"),console.groupEnd(),i}initProducts(t){console.groupCollapsed("Creating product tiles..."),console.time("initProducts");let e=[];return t.forEach(i=>{let r=document.createElement("category-item");r.productData=i,e.push(r)}),console.log(`...${p} product tiles created`),console.timeEnd("initProducts"),console.groupEnd(),e}render(t){console.groupCollapsed("Render tiles"),console.time("render"),t.forEach((e,i)=>{i===4&&e.classList.add("wide"),i===12&&e.classList.add("big"),this.appendChild(e)}),console.log(`${p} product tiles rendered`),console.timeEnd("render"),console.groupEnd()}get products(){return this.items.querySelector("slot").assignedElements()}},w=`
<style>
.items {
  display: grid;
  gap: var(--gap-l);
  grid-template-columns: repeat(auto-fit, minmax(var(--product-tile-width), 1fr));
  grid-auto-flow: dense;
}
</style>
<h2>Category</h2>
<div class="items">
  <slot></slot>
</div>
`;o.initComponent("category-list",u,w);var m=class extends o{#t=null;static get observedAttributes(){return["data-img","data-brand","data-title","data-price","data-description"]}get elements(){return{imgNode:"figure img",brandNode:".product-data h4",titleNode:".product-data h3",priceNode:".product-data span",hover:"category-item-hover"}}attributeChangedCallback(t,e,i){if(e===i)return;let r=t.split("-").pop();switch(t){case"data-img":this[`${r}Node`].src=this.img;break;case"data-title":case"data-brand":case"data-price":this[`${r}Node`].innerText=this[r];break}this.hover?.renderData&&this.hover.renderData()}set productData(t){this.#t=t,this.title=t.title,this.brand=t.brand,this.price=t.price,this.img=t.images[0],this.description=t.description}get productData(){return this.#t}get img(){return this.dataset.img}set img(t){this.dataset.img=t.toString()}get title(){return this.dataset.title}set title(t){this.dataset.title=t.toString()}get brand(){return this.dataset.brand}set brand(t){this.dataset.brand=t.toString()}get price(){return parseFloat(this.dataset.price).toFixed(2)}set price(t){this.dataset.price=t.toString()}get description(){return this.dataset.description}set description(t){this.dataset.description=t.toString()}},L=`
<style>
:host {
  box-shadow: var(--list-item-shadow);
  background-color: hsl(0 0% 95%);
  display: grid;
  grid-template-rows: min-content;
  row-gap: var(--gap);
  grid-template-areas:
    "img"
    "data";
  padding-block-end: var(--gap);
  border-radius: var(--border-radius);
  overflow: hidden;
  position: relative;
}

figure {
  margin: 0;
  padding: 0;
  grid-area: img;
  width: 100%;
  aspect-ratio: 3 / 4;
}
img {
  background-color: hsl(0 0% 85%);
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.product-data {
  padding-inline: var(--gap);
  display: grid;
  row-gap: var(--gap);
  grid-area: data;
  grid-template-rows: max-content 1fr max-content;
  grid-template-areas:
    "brand"
    "title"
    "price";
}

.product-data > * {
  padding: 0;
  margin: 0;
}

h4 {
  grid-area: brand;
}

h3 {
  grid-area: title;
}

span {
  grid-area: price;
  text-align: right;
  font-weight: bold;
  font-size: larger;
}
category-item-hover {
    transform: translateY(120%);
    transition: transform 250ms ease-out;
}
:host(:hover) category-item-hover {
    transform: translateY(0);
}
</style>
<figure part="product-tile-media">
    <img loading="lazy" part="product-tile-media-image">
</figure>
<div class="product-data">
    <h4 part="product-tile-heading"></h4>
    <h3 part="product-tile-heading"></h3>
    <span part="product-tile-price"></span>
</div>
<category-item-hover exportparts="product-tile-price"></category-item-hover>
`;o.initComponent("category-item",m,L);var g=class extends o{get elements(){return{brandNode:"h4",titleNode:"h3",descriptionNode:"p",priceNode:"span"}}connectedCallback(){super.connectedCallback(),this.renderData()}renderData(){this.brandNode.innerText=this.parentNode.host.brand,this.titleNode.innerText=this.parentNode.host.title,this.descriptionNode.innerText=this.parentNode.host.description,this.priceNode.innerText=this.parentNode.host.price}},S=`
<style>
:host {
  position: absolute;
  inset: auto 0 0;
  background: var(--white);
  border-top-left-radius: var(--border-radius);
  border-top-right-radius: var(--border-radius);
  box-shadow: var(--category-item-hover-shadow);
  background-color: hsl(0 0% 95%);
  display: grid;
  grid-template-rows: min-content;
  row-gap: var(--gap);
  grid-template-rows: min-content min-content 1fr min-content min-content;
  grid-template-areas:
    "brand"
    "title"
    "description"
    "price"
    "buttons";
  padding: var(--gap);
}
:host > * {
  padding: 0;
  margin: 0;
}
h4 {
  grid-area: brand;
}
h3 {
  grid-area: title;
}
p {
  grid-area: description;
}
span {
  grid-area: price;
  text-align: right;
  font-weight: bold;
  font-size: larger;
}
.buttons {
  grid-area: buttons;
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--gap-s);
}
.buttons button {
  width: 100%;
  border: none;
  background: var(--black);
  color: var(--white);
  padding: var(--gap) var(--gap-l);
  font-weight: bold;
  font-size: larger;
}
.buttons button.cta {
  background: var(--clr-cta);
}
</style>
<h4></h4>
<h3></h3>
<p></p>
<span part="product-tile-price"></span>
<div class="buttons">
    <button>Details</button>
    <button class="cta">Cart</button>
</div>
`;o.initComponent("category-item-hover",g,S);var c=class extends o{get elements(){return{contentSlot:"div.content slot",contentNode:"div.content"}}get listeners(){return{"div.label":{click:this.toggle.bind(this)}}}connectedCallback(){this.classList.contains("clone")||(super.connectedCallback(),this.dataset.open=this.dataset.open??(!1).toString(),this.initClone())}initClone(){this.clone=new this.constructor,this.clone.innerHTML=this.innerHTML,this.clone.classList.add("clone"),this.parentNode.appendChild(this.clone),requestAnimationFrame(()=>{this.style.setProperty("--height",this.clone.contentNode.offsetHeight)})}attributeChangedCallback(t,e,i){!this.isConnected||e===i||t==="data-open"&&(this.open=i==="true",this.dispatchEvent(new CustomEvent("change",{detail:this})))}update(){this.open&&this.style.setProperty("--height",this.clone.contentNode.offsetHeight)}toggle(){this.open=!this.open,this.update()}get open(){return this.dataset.open==="true"}set open(t){this.open!==!!t&&(this.dataset.open=(!!t).toString())}};f(c,"observedAttributes",["data-open"]);var T=`
<style>
:host {
    display: block;
    overflow: hidden;
    position: relative;
}
div.label {
    cursor: pointer;
}
:host(:not(.clone)) div.content {
    max-height: 0;
}
div.content,
div.content slot::slotted(*) {
    transition: all var(--transition-duration, 250ms) var(--transition-timing-function, ease-in-out);
}
:host(:not(.clone)[data-open="true"]) div.content {
    max-height: calc(var(--height) * 1px);
}
:host(:not(.clone):not([data-open="true"])) div.content slot::slotted(*) {
    margin-block: 0;
}
:host(.clone) {
    position: absolute;
    left: -200vw;
    width: 100%;
}
</style>
<div class="label"><slot name="label"></slot></div>
<div class="content"><slot></slot></div>
`;o.initComponent("accordion-item",c,T);var b=class extends o{get elements(){return{itemSlot:"slot"}}connectedCallback(){super.connectedCallback();let t={signal:this.disconnectedSignal};window.addEventListener("resize",()=>this.updateItemList(),t),this.itemSlot.addEventListener("slotchange",()=>this.updateItemList(0),t),screen.orientation?screen.orientation.addEventListener("change",()=>this.updateItemList(),t):window.addEventListener("orientationchange",()=>this.updateItemList(),t),this.itemChangeHandler=this.handleItemChange.bind(this),this.items.forEach(e=>e.addEventListener("change",this.itemChangeHandler,t))}handleItemChange(t){this.items.forEach(e=>e.removeEventListener("change",this.itemChangeHandler)),t.detail.open&&!this.multi&&this.items?.filter(e=>e!==t.detail).forEach(e=>e.open=!1),this.items.forEach(e=>e.addEventListener("change",this.itemChangeHandler,{signal:this.disconnectedSignal}))}updateItemList(t=null){let e=t??50;this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{this.items.forEach(i=>i.update())},e)}closeAll(){this.items.forEach(t=>t.open=!1)}get items(){return Array.from(this.querySelectorAll("accordion-item:not(.clone)"))}get multi(){return typeof this.dataset.multi<"u"}},x=`
<style>
:host {
    position: relative;
    display: block;
}
</style>
<slot></slot>
`;o.initComponent("accordion-box",b,x);var d=class extends o{get elements(){return{button:"button",input:"input"}}get listeners(){return{button:{click:this.addHandler.bind(this)},input:{keydown:this.addHandler.bind(this)}}}get mutations(){return{root:[{childList:(t,e)=>this.updateCounter(t,e)}]}}get mutationObserverOptions(){return{childList:!0}}updateCounter(){this.shadow.querySelector("h3 span:first-of-type").innerHTML=this.todos.filter(t=>t.done).length.toString(),this.shadow.querySelector("h3 span:last-of-type").innerHTML=this.todos.length.toString()}addHandler(t){t.type==="keydown"&&t.code!=="Enter"||this.input.validity.valid&&(this.addTodo(this.input.value),this.input.value="")}addTodo(t){let e=document.createElement("todo-item");e.dataset.label=t,this.appendChild(e)}get todos(){return Array.from(this.querySelectorAll("todo-item")).map(t=>({label:t.label,done:t.checked}))}set todos(t){this.querySelectorAll("todo-item").forEach(e=>e.delete()),t.forEach(e=>this.addTodo(t))}};d.prototype.template=document.createElement("template");d.prototype.template.innerHTML=`
<style>
.add {
  padding: var(--list-item-padding);
  display: flex;
  gap: var(--item-padding-inline);
}
</style>
<h2><slot name="header">You should set a header</slot></h2>
<h3>Done: <span></span> / <span></span></h3>
<section class="add">
  <input placeholder="Todo" required min="3"><button>Add</button>
</section>
<section class="items">
    <slot></slot>
</section>
`;customElements.define("todo-list",d);var l=class extends o{static get observedAttributes(){return["data-done"]}get elements(){return{button:"button",input:"input"}}get listeners(){return{button:{click:this.deleteHandler.bind(this)},input:{change:this.updateHandler.bind(this)}}}connectedCallback(){super.connectedCallback(),this.label=this.dataset.label,this.checked=this.dataset.done==="true",this.parentNode.updateCounter()}attributeChangedCallback(t,e,i){!this.input||e===i||t==="data-done"&&(this.checked=i==="true")}updateHandler(){this.dataset.done=this.checked.toString(),this.toggleLineThrough(),this.parentNode.updateCounter()}deleteHandler(){this.parentNode.removeChild(this)}toggleLineThrough(){this.input.parentNode.classList.toggle("done",this.checked)}get checked(){return this.input.checked}set checked(t){this.checked!==!!t&&(this.input.checked=!!t,this.toggleLineThrough(),this.input.dispatchEvent(new Event("change")))}get label(){return this.shadow.querySelector("label span").innerHTML}set label(t){this.shadow.querySelector("label span").innerHTML=t}};l.prototype.template=document.createElement("template");l.prototype.template.innerHTML=`
<style>
:host {
  display: flex;
  justify-content: space-between;
  background: var(--clr-bg-list-item);
  padding: var(--list-item-padding);
}
:host(:hover) {
  background-color: var(--clr-bg-list-item-hover);
}
label.done span {
  text-decoration: line-through;
}
</style>
<label>
    <input type="checkbox">
    <span></span>
</label>
<button>Delete</button>
`;customElements.define("todo-item",l);var h=class{#t=[];#e="/";#i="/";constructor(){this.current=location.pathname,this.initial=this.current,this.abortController=new AbortController,this.abortSignal=this.abortController.signal,addEventListener("popstate",t=>this.handleHistoryPop(t))}route(t="/",e=()=>{}){this.routes.push({route:t,cb:e}),this.addListener(t,e)}addListener(t,e){document.querySelectorAll(`[href="/${t}"]`).forEach(i=>{i.addEventListener("click",r=>{r.preventDefault(),this.push(t),e()},{signal:this.abortSignal})})}addListeners(){this.routes.forEach(t=>this.addListener(t.route,t.cb))}push(t){history.pushState(t,"",t)}handleHistoryPop(t){this.abortController.abort(),location.pathname===this.initial?location.reload():this.routes.find(e=>t.state===e.route)?.cb?.()}get initial(){return this.#e}set initial(t){this.#e=t}get routes(){return this.#t}set routes(t){this.#t=t}get current(){return this.#i}set current(t){this.#i=t}};var H=()=>{document.body.querySelectorAll(":scope > *").forEach(n=>document.body.removeChild(n))},v=n=>{n.route("router-test",()=>{console.log("Routed to router-test"),H();let t=document.createElement("category-list");t.dataset.pwa="true",document.body.appendChild(t)})};var N=new h;v(N);})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vanMvQ29tcG9uZW50cy9BYnN0cmFjdC5qcyIsICIuLi8uLi9qcy9Db21wb25lbnRzL0NhdGVnb3J5L0xpc3QuanMiLCAiLi4vLi4vanMvQ29tcG9uZW50cy9DYXRlZ29yeS9JdGVtLmpzIiwgIi4uLy4uL2pzL0NvbXBvbmVudHMvQ2F0ZWdvcnkvSXRlbS9Ib3Zlci5qcyIsICIuLi8uLi9qcy9Db21wb25lbnRzL0VsZW1lbnRzL0FjY29yZGlvbi9JdGVtLmpzIiwgIi4uLy4uL2pzL0NvbXBvbmVudHMvRWxlbWVudHMvQWNjb3JkaW9uL2luZGV4LmpzIiwgIi4uLy4uL2pzL0NvbXBvbmVudHMvVG9kby9MaXN0LmpzIiwgIi4uLy4uL2pzL0NvbXBvbmVudHMvVG9kby9JdGVtLmpzIiwgIi4uLy4uL2pzL1JvdXRlci5qcyIsICIuLi8uLi9qcy9yb3V0ZXMuanMiLCAiLi4vLi4vanMvcHJvbXB0LmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJjb25zdCBNVVRBVElPTl9PQlNFUlZFUl9PUFRJT05TID0ge1xuICAgIHN1YnRyZWU6IHRydWUsXG4gICAgYXR0cmlidXRlczogdHJ1ZSxcbiAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgY2hhcmFjdGVyRGF0YTogZmFsc2UsXG4gICAgY2hhcmFjdGVyRGF0YU9sZFZhbHVlOiBmYWxzZSxcbn07XG5cbmV4cG9ydCBjbGFzcyBBYnN0cmFjdENvbXBvbmVudCBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zaGFkb3cgPSB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6IFwiY2xvc2VkXCIgfSk7XG4gICAgICAgIHRoaXMuc2hhZG93LmFwcGVuZENoaWxkKHRoaXMudGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSkpO1xuICAgICAgICB0aGlzLmluaXRFbGVtZW50cygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplXG4gICAgICogRmlyZWQgd2hlbiBhZGRlZCB0byBkb21cbiAgICAgKi9cbiAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgdGhpcy5kaXNjb25uZWN0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgICAgdGhpcy5kaXNjb25uZWN0ZWRTaWduYWwgPSB0aGlzLmRpc2Nvbm5lY3RDb250cm9sbGVyLnNpZ25hbDtcbiAgICAgICAgdGhpcy5hZGRMaXN0ZW5lcnMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgZGlzY29ubmVjdFxuICAgICAqIEZpcmVkIHdoZW4gcmVtb3ZlZCBmcm9tIGRvbVxuICAgICAqL1xuICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICB0aGlzLmRpc2Nvbm5lY3RDb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgIHRoaXMucmVtb3ZlTXV0YXRpb25zKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBlbGVtZW50c1xuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGluaXRFbGVtZW50cygpIHtcbiAgICAgICAgZm9yIChjb25zdCBzZWxlY3RvciBvZiBPYmplY3Qua2V5cyh0aGlzLmVsZW1lbnRzKSkge1xuICAgICAgICAgICAgY29uc3Qgbm9kZXMgPSBBcnJheS5mcm9tKFxuICAgICAgICAgICAgICAgIHRoaXMuc2hhZG93LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5lbGVtZW50c1tzZWxlY3Rvcl0pXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhpc1tzZWxlY3Rvcl0gPSBub2Rlcz8ubGVuZ3RoID09PSAxID8gbm9kZXNbMF0gOiBub2RlcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgbGlzdGVuZXJzXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgYWRkTGlzdGVuZXJzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hZGRFdmVudHMoKS5hZGRNdXRhdGlvbnMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgZXZlbnQgbGlzdGVuZXJzXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgYWRkRXZlbnRzKCkge1xuICAgICAgICBmb3IgKGNvbnN0IHNlbGVjdG9yIG9mIE9iamVjdC5rZXlzKHRoaXMubGlzdGVuZXJzKSkge1xuICAgICAgICAgICAgY29uc3QgY29uZmlnID0gdGhpcy5saXN0ZW5lcnNbc2VsZWN0b3JdO1xuICAgICAgICAgICAgbGV0IGNiO1xuICAgICAgICAgICAgZm9yIChjb25zdCBldmVudCBvZiBPYmplY3Qua2V5cyhjb25maWcpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm9kZXMgPVxuICAgICAgICAgICAgICAgICAgICBcInJvb3RcIiA9PT0gc2VsZWN0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgID8gW3RoaXMuZ2V0Um9vdE5vZGUoKV1cbiAgICAgICAgICAgICAgICAgICAgICAgIDogQXJyYXkuZnJvbSh0aGlzLnNoYWRvdy5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSk7XG4gICAgICAgICAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGNvbmZpZ1tldmVudF0pIHtcbiAgICAgICAgICAgICAgICAgICAgY2IgPSBjb25maWdbZXZlbnRdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXAoXCJUeXBlRXJyb3I6IEV2ZW50SGFuZGxlclwiKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkV2ZW50SGFuZGxlciBpcyBub3QgYSBmdW5jdGlvblwiKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkhhbmRsZXIgQ29uZmlndXJhdGlvbjogJW9cIiwgY29uZmlnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5ncm91cEVuZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBub2Rlcy5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgY2IsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25hbDogdGhpcy5kaXNjb25uZWN0ZWRTaWduYWwsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBtdXRhdGlvbiBvYnNlcnZlcnNcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBhZGRNdXRhdGlvbnMoKSB7XG4gICAgICAgIGlmICghdGhpcy5oYXNNdXRhdGlvbnMpIHJldHVybjtcbiAgICAgICAgdGhpcy5pbml0TXV0YXRpb25PYnNlcnZlcigpO1xuICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgT2JqZWN0LmtleXModGhpcy5tdXRhdGlvbnMpKSB7XG4gICAgICAgICAgICBjb25zdCBub2RlID0gXCJyb290XCIgPT09IGVsZW1lbnQgPyB0aGlzIDogdGhpc1tlbGVtZW50XTtcbiAgICAgICAgICAgIHRoaXMubXV0YXRpb25DYWxsYmFja3MgPSBbXG4gICAgICAgICAgICAgICAgLi4uKHRoaXMubXV0YXRpb25DYWxsYmFja3MgfHwgW10pLFxuICAgICAgICAgICAgICAgIHsgLi4ueyBub2RlIH0sIC4uLnsgY2FsbGJhY2tzOiB0aGlzLm11dGF0aW9uc1tlbGVtZW50XSB9IH0sXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc2Nvbm5lY3QgTXV0YXRpb25PYnNlcnZlclxuICAgICAqL1xuICAgIHJlbW92ZU11dGF0aW9ucygpIHtcbiAgICAgICAgaWYgKHRoaXMuX211dGF0aW9uT2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX211dGF0aW9uT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBNdXRhdGlvbk9ic2VydmVyXG4gICAgICogQHJldHVybnMge011dGF0aW9uT2JzZXJ2ZXJ9XG4gICAgICovXG4gICAgaW5pdE11dGF0aW9uT2JzZXJ2ZXIoKSB7XG4gICAgICAgIGlmICghdGhpcy5fbXV0YXRpb25PYnNlcnZlcikge1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9XG4gICAgICAgICAgICAgICAgdGhpcy5tdXRhdGlvbk9ic2VydmVyT3B0aW9ucyB8fCBNVVRBVElPTl9PQlNFUlZFUl9PUFRJT05TO1xuICAgICAgICAgICAgdGhpcy5fbXV0YXRpb25PYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKFxuICAgICAgICAgICAgICAgIHRoaXMubXV0YXRpb25IYW5kbGVyLmJpbmQodGhpcylcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGlzLl9tdXRhdGlvbk9ic2VydmVyLm9ic2VydmUodGhpcywgb3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLl9tdXRhdGlvbk9ic2VydmVyLm9ic2VydmUodGhpcy5zaGFkb3csIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlzdGVuIHRvIG11dGF0aW9uc1xuICAgICAqIEBwYXJhbSB7TXV0YXRpb25SZWNvcmR9IG11dGF0aW9uTGlzdFxuICAgICAqIEBwYXJhbSB7TXV0YXRpb25PYnNlcnZlcn0gb2JzZXJ2ZXJcbiAgICAgKi9cbiAgICBtdXRhdGlvbkhhbmRsZXIobXV0YXRpb25MaXN0LCBvYnNlcnZlcikge1xuICAgICAgICBmb3IgKGNvbnN0IG11dGF0aW9uIG9mIG11dGF0aW9uTGlzdCkge1xuICAgICAgICAgICAgY29uc3QgY2FsbGJhY2tzID0gdGhpcy5tdXRhdGlvbkNhbGxiYWNrcy5maW5kKChjKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYy5ub2RlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgYy5ub2RlLmZpbHRlcigoaSkgPT4gaSA9PT0gbXV0YXRpb24udGFyZ2V0KS5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjLm5vZGUgPT09IG11dGF0aW9uLnRhcmdldDtcbiAgICAgICAgICAgIH0pPy5jYWxsYmFja3M7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2tzKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LnZhbHVlcyhjYWxsYmFja3MpLmZvckVhY2goKGNvbmZpZ3MpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgW2NvbmZpZ3NdXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmxhdCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKChjKSA9PiBjW211dGF0aW9uLnR5cGVdKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZvckVhY2goKGNvbmZpZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ1ttdXRhdGlvbi50eXBlXShtdXRhdGlvbiwgb2JzZXJ2ZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXAoXCJUeXBlRXJyb3I6IE11dGF0aW9uSGFuZGxlclwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiTXV0YXRpb25IYW5kbGVyIGlzIG5vdCBhIGZ1bmN0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIk11dGF0aW9uOiAlb1wiLCBtdXRhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkhhbmRsZXIgQ29uZmlndXJhdGlvbjogJW9cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmdyb3VwRW5kKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgaW5pdENvbXBvbmVudChuYW1lLCBjb21wb25lbnQsIHRlbXBsYXRlKSB7XG4gICAgICAgIGNvbXBvbmVudC5wcm90b3R5cGUudGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGVtcGxhdGVcIik7XG4gICAgICAgIGNvbXBvbmVudC5wcm90b3R5cGUudGVtcGxhdGUuaW5uZXJIVE1MID0gdGVtcGxhdGU7XG4gICAgICAgIGN1c3RvbUVsZW1lbnRzLmRlZmluZShuYW1lLCBjb21wb25lbnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9idGFpbiBlbGVtZW50c1xuICAgICAqIHVzZWQgdG8gbWFwIGVsZW1lbnRzIHRvIGluc3RhbmNlIGZvciBsYXRlciB1c2VcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0LjxTdHJpbmc6IFN0cmluZz59XG4gICAgICovXG4gICAgZ2V0IGVsZW1lbnRzKCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT2J0YWluIGxpc3RlbmVyc1xuICAgICAqIHVzZWQgdG8gYWRkIGV2ZW50IGxpc3RlbmVyc1xuICAgICAqIEByZXR1cm5zIHtPYmplY3QuPFN0cmluZzogT2JqZWN0LjxTdHJpbmc6IFN0cmluZz59XG4gICAgICovXG4gICAgZ2V0IGxpc3RlbmVycygpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9idGFpbiBtdXRhdGlvbnNcbiAgICAgKiB1c2VkIHRvIGFkZCBjYWxsYmFja3MgdG8gbXV0YXRpb24gb2JzZXJ2ZXJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0LjxTdHJpbmc6IE9iamVjdC48U3RyaW5nOiBTdHJpbmc+fVxuICAgICAqL1xuICAgIGdldCBtdXRhdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmUgaWYgd2UgdXNlIG11dGF0aW9uc1xuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqL1xuICAgIGdldCBoYXNNdXRhdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLm11dGF0aW9ucykubGVuZ3RoID4gMDtcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgQWJzdHJhY3RDb21wb25lbnQgfSBmcm9tIFwiLi4vQWJzdHJhY3QuanNcIjtcblxuY29uc3QgSVRFTVNfQ09VTlQgPSAyNDtcbmNvbnN0IElURU1TX1VSTCA9IFwiaHR0cHM6Ly9kdW1teWpzb24uY29tL3Byb2R1Y3RzXCI7XG5cbmNsYXNzIExpc3QgZXh0ZW5kcyBBYnN0cmFjdENvbXBvbmVudCB7XG4gIGdldCBlbGVtZW50cygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaXRlbXM6IFwiLml0ZW1zXCIsXG4gICAgfTtcbiAgfVxuXG4gIGFzeW5jIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIGNvbnNvbGUudGltZShcIkNhdGVnb3J5XCIpO1xuICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgaWYgKHRoaXMuZGF0YXNldC5wd2EgPT09IFwidHJ1ZVwiKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBpdGVtcyA9IGF3YWl0IHRoaXMubG9hZCgpO1xuICAgICAgICBjb25zdCBub2RlcyA9IHRoaXMuaW5pdFByb2R1Y3RzKGl0ZW1zKTtcbiAgICAgICAgdGhpcy5yZW5kZXIobm9kZXMpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnNvbGUudGltZUVuZChcIkNhdGVnb3J5XCIpO1xuICB9XG5cbiAgYXN5bmMgbG9hZCgpIHtcbiAgICBjb25zb2xlLmdyb3VwQ29sbGFwc2VkKFwiU3RhcnQgbG9hZCB0aW1lci5cIik7XG4gICAgY29uc29sZS50aW1lKFwibG9hZFwiKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKElURU1TX1VSTCk7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIGNvbnN0IGl0ZW1zID0gcmVzdWx0Py5wcm9kdWN0cz8uc2xpY2UoMCwgSVRFTVNfQ09VTlQpO1xuICAgIGNvbnNvbGUudGltZUVuZChcImxvYWRcIik7XG4gICAgY29uc29sZS5ncm91cEVuZCgpO1xuICAgIHJldHVybiBpdGVtcztcbiAgfVxuXG4gIGluaXRQcm9kdWN0cyhpdGVtcykge1xuICAgIGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQoXCJDcmVhdGluZyBwcm9kdWN0IHRpbGVzLi4uXCIpO1xuICAgIGNvbnNvbGUudGltZShcImluaXRQcm9kdWN0c1wiKTtcbiAgICBjb25zdCBub2RlcyA9IFtdO1xuICAgIGl0ZW1zLmZvckVhY2goKHApID0+IHtcbiAgICAgIGNvbnN0IG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2F0ZWdvcnktaXRlbVwiKTtcbiAgICAgIG5vZGUucHJvZHVjdERhdGEgPSBwO1xuICAgICAgbm9kZXMucHVzaChub2RlKTtcbiAgICB9KTtcbiAgICBjb25zb2xlLmxvZyhgLi4uJHtJVEVNU19DT1VOVH0gcHJvZHVjdCB0aWxlcyBjcmVhdGVkYCk7XG4gICAgY29uc29sZS50aW1lRW5kKFwiaW5pdFByb2R1Y3RzXCIpO1xuICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbiAgICByZXR1cm4gbm9kZXM7XG4gIH1cblxuICAvKipcbiAgICogQXBwZW5kIGl0ZW1zIGFuZCBhc3NpZ24gdG8gc2xvdFxuICAgKiBAcGFyYW0ge0FycmF5LjxIVE1MRWxlbWVudD59IG5vZGVzXG4gICAqL1xuICByZW5kZXIobm9kZXMpIHtcbiAgICBjb25zb2xlLmdyb3VwQ29sbGFwc2VkKFwiUmVuZGVyIHRpbGVzXCIpO1xuICAgIGNvbnNvbGUudGltZShcInJlbmRlclwiKTtcbiAgICBub2Rlcy5mb3JFYWNoKChwLCBrKSA9PiB7XG4gICAgICBpZiAoayA9PT0gNCkge1xuICAgICAgICBwLmNsYXNzTGlzdC5hZGQoXCJ3aWRlXCIpO1xuICAgICAgfVxuICAgICAgaWYgKGsgPT09IDEyKSB7XG4gICAgICAgIHAuY2xhc3NMaXN0LmFkZChcImJpZ1wiKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuYXBwZW5kQ2hpbGQocCk7XG4gICAgfSk7XG4gICAgY29uc29sZS5sb2coYCR7SVRFTVNfQ09VTlR9IHByb2R1Y3QgdGlsZXMgcmVuZGVyZWRgKTtcbiAgICBjb25zb2xlLnRpbWVFbmQoXCJyZW5kZXJcIik7XG4gICAgY29uc29sZS5ncm91cEVuZCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIE9idGFpbiBjYXRlZ29yeS1pdGVtJ3MgZnJvbSBzbG90XG4gICAqL1xuICBnZXQgcHJvZHVjdHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXRlbXMucXVlcnlTZWxlY3RvcihcInNsb3RcIikuYXNzaWduZWRFbGVtZW50cygpO1xuICB9XG59XG5cbmNvbnN0IHRlbXBsYXRlID0gLyogaHRtbCAqLyBgXG48c3R5bGU+XG4uaXRlbXMge1xuICBkaXNwbGF5OiBncmlkO1xuICBnYXA6IHZhcigtLWdhcC1sKTtcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maXQsIG1pbm1heCh2YXIoLS1wcm9kdWN0LXRpbGUtd2lkdGgpLCAxZnIpKTtcbiAgZ3JpZC1hdXRvLWZsb3c6IGRlbnNlO1xufVxuPC9zdHlsZT5cbjxoMj5DYXRlZ29yeTwvaDI+XG48ZGl2IGNsYXNzPVwiaXRlbXNcIj5cbiAgPHNsb3Q+PC9zbG90PlxuPC9kaXY+XG5gO1xuXG5BYnN0cmFjdENvbXBvbmVudC5pbml0Q29tcG9uZW50KFwiY2F0ZWdvcnktbGlzdFwiLCBMaXN0LCB0ZW1wbGF0ZSk7XG4iLCAiaW1wb3J0IHsgQWJzdHJhY3RDb21wb25lbnQgfSBmcm9tIFwiLi4vQWJzdHJhY3QuanNcIjtcblxuY2xhc3MgSXRlbSBleHRlbmRzIEFic3RyYWN0Q29tcG9uZW50IHtcbiAgI19kYXRhID0gbnVsbDtcbiAgc3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIFwiZGF0YS1pbWdcIixcbiAgICAgIFwiZGF0YS1icmFuZFwiLFxuICAgICAgXCJkYXRhLXRpdGxlXCIsXG4gICAgICBcImRhdGEtcHJpY2VcIixcbiAgICAgIFwiZGF0YS1kZXNjcmlwdGlvblwiLFxuICAgIF07XG4gIH1cbiAgZ2V0IGVsZW1lbnRzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpbWdOb2RlOiBcImZpZ3VyZSBpbWdcIixcbiAgICAgIGJyYW5kTm9kZTogXCIucHJvZHVjdC1kYXRhIGg0XCIsXG4gICAgICB0aXRsZU5vZGU6IFwiLnByb2R1Y3QtZGF0YSBoM1wiLFxuICAgICAgcHJpY2VOb2RlOiBcIi5wcm9kdWN0LWRhdGEgc3BhblwiLFxuICAgICAgaG92ZXI6IFwiY2F0ZWdvcnktaXRlbS1ob3ZlclwiLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIGF0dHJpYnV0ZSBjaGFuZ2VcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAgICogQHBhcmFtIHtTdHJpbmd9IG9sZFZhbHVlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuZXdWYWx1ZVxuICAgKi9cbiAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKG5hbWUsIG9sZFZhbHVlLCBuZXdWYWx1ZSkge1xuICAgIGlmIChvbGRWYWx1ZSA9PT0gbmV3VmFsdWUpIHJldHVybjtcbiAgICBjb25zdCBwcm9wID0gbmFtZS5zcGxpdChcIi1cIikucG9wKCk7XG4gICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICBjYXNlIFwiZGF0YS1pbWdcIjpcbiAgICAgICAgdGhpc1tgJHtwcm9wfU5vZGVgXS5zcmMgPSB0aGlzLmltZztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZGF0YS10aXRsZVwiOlxuICAgICAgY2FzZSBcImRhdGEtYnJhbmRcIjpcbiAgICAgIGNhc2UgXCJkYXRhLXByaWNlXCI6XG4gICAgICAgIHRoaXNbYCR7cHJvcH1Ob2RlYF0uaW5uZXJUZXh0ID0gdGhpc1twcm9wXTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGlmICh0aGlzLmhvdmVyPy5yZW5kZXJEYXRhKSB7XG4gICAgICB0aGlzLmhvdmVyLnJlbmRlckRhdGEoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtTdHJpbmd9IHZcbiAgICovXG4gIHNldCBwcm9kdWN0RGF0YShkYXRhKSB7XG4gICAgdGhpcy4jX2RhdGEgPSBkYXRhO1xuICAgIHRoaXMudGl0bGUgPSBkYXRhLnRpdGxlO1xuICAgIHRoaXMuYnJhbmQgPSBkYXRhLmJyYW5kO1xuICAgIHRoaXMucHJpY2UgPSBkYXRhLnByaWNlO1xuICAgIHRoaXMuaW1nID0gZGF0YS5pbWFnZXNbMF07XG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRhdGEuZGVzY3JpcHRpb247XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtTdHJpbmd9IHZcbiAgICovXG4gIGdldCBwcm9kdWN0RGF0YSgpIHtcbiAgICByZXR1cm4gdGhpcy4jX2RhdGE7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7U3RyaW5nfVxuICAgKi9cbiAgZ2V0IGltZygpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhc2V0LmltZztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdlxuICAgKi9cbiAgc2V0IGltZyh2KSB7XG4gICAgdGhpcy5kYXRhc2V0LmltZyA9IHYudG9TdHJpbmcoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqL1xuICBnZXQgdGl0bGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YXNldC50aXRsZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdlxuICAgKi9cbiAgc2V0IHRpdGxlKHYpIHtcbiAgICB0aGlzLmRhdGFzZXQudGl0bGUgPSB2LnRvU3RyaW5nKCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7U3RyaW5nfVxuICAgKi9cbiAgZ2V0IGJyYW5kKCkge1xuICAgIHJldHVybiB0aGlzLmRhdGFzZXQuYnJhbmQ7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtTdHJpbmd9IHZcbiAgICovXG4gIHNldCBicmFuZCh2KSB7XG4gICAgdGhpcy5kYXRhc2V0LmJyYW5kID0gdi50b1N0cmluZygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICovXG4gIGdldCBwcmljZSgpIHtcbiAgICByZXR1cm4gcGFyc2VGbG9hdCh0aGlzLmRhdGFzZXQucHJpY2UpLnRvRml4ZWQoMik7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHZcbiAgICovXG4gIHNldCBwcmljZSh2KSB7XG4gICAgdGhpcy5kYXRhc2V0LnByaWNlID0gdi50b1N0cmluZygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICovXG4gIGdldCBkZXNjcmlwdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhc2V0LmRlc2NyaXB0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB2XG4gICAqL1xuICBzZXQgZGVzY3JpcHRpb24odikge1xuICAgIHRoaXMuZGF0YXNldC5kZXNjcmlwdGlvbiA9IHYudG9TdHJpbmcoKTtcbiAgfVxufVxuXG5jb25zdCB0ZW1wbGF0ZSA9IC8qIGh0bWwgKi8gYFxuPHN0eWxlPlxuOmhvc3Qge1xuICBib3gtc2hhZG93OiB2YXIoLS1saXN0LWl0ZW0tc2hhZG93KTtcbiAgYmFja2dyb3VuZC1jb2xvcjogaHNsKDAgMCUgOTUlKTtcbiAgZGlzcGxheTogZ3JpZDtcbiAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiBtaW4tY29udGVudDtcbiAgcm93LWdhcDogdmFyKC0tZ2FwKTtcbiAgZ3JpZC10ZW1wbGF0ZS1hcmVhczpcbiAgICBcImltZ1wiXG4gICAgXCJkYXRhXCI7XG4gIHBhZGRpbmctYmxvY2stZW5kOiB2YXIoLS1nYXApO1xuICBib3JkZXItcmFkaXVzOiB2YXIoLS1ib3JkZXItcmFkaXVzKTtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuXG5maWd1cmUge1xuICBtYXJnaW46IDA7XG4gIHBhZGRpbmc6IDA7XG4gIGdyaWQtYXJlYTogaW1nO1xuICB3aWR0aDogMTAwJTtcbiAgYXNwZWN0LXJhdGlvOiAzIC8gNDtcbn1cbmltZyB7XG4gIGJhY2tncm91bmQtY29sb3I6IGhzbCgwIDAlIDg1JSk7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIG9iamVjdC1maXQ6IGNvdmVyO1xufVxuXG4ucHJvZHVjdC1kYXRhIHtcbiAgcGFkZGluZy1pbmxpbmU6IHZhcigtLWdhcCk7XG4gIGRpc3BsYXk6IGdyaWQ7XG4gIHJvdy1nYXA6IHZhcigtLWdhcCk7XG4gIGdyaWQtYXJlYTogZGF0YTtcbiAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiBtYXgtY29udGVudCAxZnIgbWF4LWNvbnRlbnQ7XG4gIGdyaWQtdGVtcGxhdGUtYXJlYXM6XG4gICAgXCJicmFuZFwiXG4gICAgXCJ0aXRsZVwiXG4gICAgXCJwcmljZVwiO1xufVxuXG4ucHJvZHVjdC1kYXRhID4gKiB7XG4gIHBhZGRpbmc6IDA7XG4gIG1hcmdpbjogMDtcbn1cblxuaDQge1xuICBncmlkLWFyZWE6IGJyYW5kO1xufVxuXG5oMyB7XG4gIGdyaWQtYXJlYTogdGl0bGU7XG59XG5cbnNwYW4ge1xuICBncmlkLWFyZWE6IHByaWNlO1xuICB0ZXh0LWFsaWduOiByaWdodDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGZvbnQtc2l6ZTogbGFyZ2VyO1xufVxuY2F0ZWdvcnktaXRlbS1ob3ZlciB7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDEyMCUpO1xuICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAyNTBtcyBlYXNlLW91dDtcbn1cbjpob3N0KDpob3ZlcikgY2F0ZWdvcnktaXRlbS1ob3ZlciB7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApO1xufVxuPC9zdHlsZT5cbjxmaWd1cmUgcGFydD1cInByb2R1Y3QtdGlsZS1tZWRpYVwiPlxuICAgIDxpbWcgbG9hZGluZz1cImxhenlcIiBwYXJ0PVwicHJvZHVjdC10aWxlLW1lZGlhLWltYWdlXCI+XG48L2ZpZ3VyZT5cbjxkaXYgY2xhc3M9XCJwcm9kdWN0LWRhdGFcIj5cbiAgICA8aDQgcGFydD1cInByb2R1Y3QtdGlsZS1oZWFkaW5nXCI+PC9oND5cbiAgICA8aDMgcGFydD1cInByb2R1Y3QtdGlsZS1oZWFkaW5nXCI+PC9oMz5cbiAgICA8c3BhbiBwYXJ0PVwicHJvZHVjdC10aWxlLXByaWNlXCI+PC9zcGFuPlxuPC9kaXY+XG48Y2F0ZWdvcnktaXRlbS1ob3ZlciBleHBvcnRwYXJ0cz1cInByb2R1Y3QtdGlsZS1wcmljZVwiPjwvY2F0ZWdvcnktaXRlbS1ob3Zlcj5cbmA7XG5cbkFic3RyYWN0Q29tcG9uZW50LmluaXRDb21wb25lbnQoXCJjYXRlZ29yeS1pdGVtXCIsIEl0ZW0sIHRlbXBsYXRlKTtcbiIsICJpbXBvcnQgeyBBYnN0cmFjdENvbXBvbmVudCB9IGZyb20gXCIuLi8uLi9BYnN0cmFjdC5qc1wiO1xuXG5jbGFzcyBIb3ZlciBleHRlbmRzIEFic3RyYWN0Q29tcG9uZW50IHtcbiAgZ2V0IGVsZW1lbnRzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBicmFuZE5vZGU6IFwiaDRcIixcbiAgICAgIHRpdGxlTm9kZTogXCJoM1wiLFxuICAgICAgZGVzY3JpcHRpb25Ob2RlOiBcInBcIixcbiAgICAgIHByaWNlTm9kZTogXCJzcGFuXCIsXG4gICAgfTtcbiAgfVxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIHRoaXMucmVuZGVyRGF0YSgpO1xuICB9XG5cbiAgcmVuZGVyRGF0YSgpIHtcbiAgICB0aGlzLmJyYW5kTm9kZS5pbm5lclRleHQgPSB0aGlzLnBhcmVudE5vZGUuaG9zdC5icmFuZDtcbiAgICB0aGlzLnRpdGxlTm9kZS5pbm5lclRleHQgPSB0aGlzLnBhcmVudE5vZGUuaG9zdC50aXRsZTtcbiAgICB0aGlzLmRlc2NyaXB0aW9uTm9kZS5pbm5lclRleHQgPSB0aGlzLnBhcmVudE5vZGUuaG9zdC5kZXNjcmlwdGlvbjtcbiAgICB0aGlzLnByaWNlTm9kZS5pbm5lclRleHQgPSB0aGlzLnBhcmVudE5vZGUuaG9zdC5wcmljZTtcbiAgfVxufVxuXG5jb25zdCB0ZW1wbGF0ZSA9IC8qIGh0bWwgKi8gYFxuPHN0eWxlPlxuOmhvc3Qge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGluc2V0OiBhdXRvIDAgMDtcbiAgYmFja2dyb3VuZDogdmFyKC0td2hpdGUpO1xuICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiB2YXIoLS1ib3JkZXItcmFkaXVzKTtcbiAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IHZhcigtLWJvcmRlci1yYWRpdXMpO1xuICBib3gtc2hhZG93OiB2YXIoLS1jYXRlZ29yeS1pdGVtLWhvdmVyLXNoYWRvdyk7XG4gIGJhY2tncm91bmQtY29sb3I6IGhzbCgwIDAlIDk1JSk7XG4gIGRpc3BsYXk6IGdyaWQ7XG4gIGdyaWQtdGVtcGxhdGUtcm93czogbWluLWNvbnRlbnQ7XG4gIHJvdy1nYXA6IHZhcigtLWdhcCk7XG4gIGdyaWQtdGVtcGxhdGUtcm93czogbWluLWNvbnRlbnQgbWluLWNvbnRlbnQgMWZyIG1pbi1jb250ZW50IG1pbi1jb250ZW50O1xuICBncmlkLXRlbXBsYXRlLWFyZWFzOlxuICAgIFwiYnJhbmRcIlxuICAgIFwidGl0bGVcIlxuICAgIFwiZGVzY3JpcHRpb25cIlxuICAgIFwicHJpY2VcIlxuICAgIFwiYnV0dG9uc1wiO1xuICBwYWRkaW5nOiB2YXIoLS1nYXApO1xufVxuOmhvc3QgPiAqIHtcbiAgcGFkZGluZzogMDtcbiAgbWFyZ2luOiAwO1xufVxuaDQge1xuICBncmlkLWFyZWE6IGJyYW5kO1xufVxuaDMge1xuICBncmlkLWFyZWE6IHRpdGxlO1xufVxucCB7XG4gIGdyaWQtYXJlYTogZGVzY3JpcHRpb247XG59XG5zcGFuIHtcbiAgZ3JpZC1hcmVhOiBwcmljZTtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBmb250LXNpemU6IGxhcmdlcjtcbn1cbi5idXR0b25zIHtcbiAgZ3JpZC1hcmVhOiBidXR0b25zO1xuICBkaXNwbGF5OiBncmlkO1xuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgyLCAxZnIpO1xuICBnYXA6IHZhcigtLWdhcC1zKTtcbn1cbi5idXR0b25zIGJ1dHRvbiB7XG4gIHdpZHRoOiAxMDAlO1xuICBib3JkZXI6IG5vbmU7XG4gIGJhY2tncm91bmQ6IHZhcigtLWJsYWNrKTtcbiAgY29sb3I6IHZhcigtLXdoaXRlKTtcbiAgcGFkZGluZzogdmFyKC0tZ2FwKSB2YXIoLS1nYXAtbCk7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBmb250LXNpemU6IGxhcmdlcjtcbn1cbi5idXR0b25zIGJ1dHRvbi5jdGEge1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1jbHItY3RhKTtcbn1cbjwvc3R5bGU+XG48aDQ+PC9oND5cbjxoMz48L2gzPlxuPHA+PC9wPlxuPHNwYW4gcGFydD1cInByb2R1Y3QtdGlsZS1wcmljZVwiPjwvc3Bhbj5cbjxkaXYgY2xhc3M9XCJidXR0b25zXCI+XG4gICAgPGJ1dHRvbj5EZXRhaWxzPC9idXR0b24+XG4gICAgPGJ1dHRvbiBjbGFzcz1cImN0YVwiPkNhcnQ8L2J1dHRvbj5cbjwvZGl2PlxuYDtcblxuQWJzdHJhY3RDb21wb25lbnQuaW5pdENvbXBvbmVudChcImNhdGVnb3J5LWl0ZW0taG92ZXJcIiwgSG92ZXIsIHRlbXBsYXRlKTtcbiIsICJpbXBvcnQgeyBBYnN0cmFjdENvbXBvbmVudCB9IGZyb20gXCIuLi8uLi9BYnN0cmFjdC5qc1wiO1xuXG5jbGFzcyBBY2NvcmRpb25JdGVtIGV4dGVuZHMgQWJzdHJhY3RDb21wb25lbnQge1xuICBzdGF0aWMgb2JzZXJ2ZWRBdHRyaWJ1dGVzID0gW1wiZGF0YS1vcGVuXCJdO1xuXG4gIC8qKiBAaW5oZXJpdGRvYyAqL1xuICBnZXQgZWxlbWVudHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbnRlbnRTbG90OiBcImRpdi5jb250ZW50IHNsb3RcIixcbiAgICAgIGNvbnRlbnROb2RlOiBcImRpdi5jb250ZW50XCIsXG4gICAgfTtcbiAgfVxuXG4gIC8qKiBAaW5oZXJpdGRvYyAqL1xuICBnZXQgbGlzdGVuZXJzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBcImRpdi5sYWJlbFwiOiB7XG4gICAgICAgIGNsaWNrOiB0aGlzLnRvZ2dsZS5iaW5kKHRoaXMpLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSByZW5kZXJcbiAgICovXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIGlmICghdGhpcy5jbGFzc0xpc3QuY29udGFpbnMoXCJjbG9uZVwiKSkge1xuICAgICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgIHRoaXMuZGF0YXNldC5vcGVuID0gdGhpcy5kYXRhc2V0Lm9wZW4gPz8gZmFsc2UudG9TdHJpbmcoKTtcbiAgICAgIHRoaXMuaW5pdENsb25lKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIGNsb25lIHNlbGYgYW5kIGhpZGUgaW4gb3BlbiBzdGF0ZVxuICAgKiBmb3IgbWVhc3VyaW5nIGhlaWdodFxuICAgKi9cbiAgaW5pdENsb25lKCkge1xuICAgIHRoaXMuY2xvbmUgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpO1xuICAgIHRoaXMuY2xvbmUuaW5uZXJIVE1MID0gdGhpcy5pbm5lckhUTUw7XG4gICAgdGhpcy5jbG9uZS5jbGFzc0xpc3QuYWRkKFwiY2xvbmVcIik7XG4gICAgdGhpcy5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHRoaXMuY2xvbmUpO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICB0aGlzLnN0eWxlLnNldFByb3BlcnR5KFwiLS1oZWlnaHRcIiwgdGhpcy5jbG9uZS5jb250ZW50Tm9kZS5vZmZzZXRIZWlnaHQpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBhdHRyaWJ1dGUgY2hhbmdlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBvbGRWYWx1ZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gbmV3VmFsdWVcbiAgICovXG4gIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lLCBvbGRWYWx1ZSwgbmV3VmFsdWUpIHtcbiAgICBpZiAoIXRoaXMuaXNDb25uZWN0ZWQgfHwgb2xkVmFsdWUgPT09IG5ld1ZhbHVlKSByZXR1cm47XG4gICAgaWYgKFwiZGF0YS1vcGVuXCIgPT09IG5hbWUpIHtcbiAgICAgIHRoaXMub3BlbiA9IG5ld1ZhbHVlID09PSBcInRydWVcIjtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJjaGFuZ2VcIiwgeyBkZXRhaWw6IHRoaXMgfSkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiB0cmlnZ2VyIGhlaWdodCBjYWxjdWxhdGlvblxuICAgKi9cbiAgdXBkYXRlKCkge1xuICAgIGlmICh0aGlzLm9wZW4pIHtcbiAgICAgIHRoaXMuc3R5bGUuc2V0UHJvcGVydHkoXCItLWhlaWdodFwiLCB0aGlzLmNsb25lLmNvbnRlbnROb2RlLm9mZnNldEhlaWdodCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRvZ2dsZSBvcGVuIHN0YXRlXG4gICAqL1xuICB0b2dnbGUoKSB7XG4gICAgdGhpcy5vcGVuID0gIXRoaXMub3BlbjtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIE9idGFpbiBvcGVuIHN0YXRlXG4gICAqL1xuICBnZXQgb3BlbigpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhc2V0Lm9wZW4gPT09IFwidHJ1ZVwiO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBvcGVuIHN0YXRlXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gdlxuICAgKi9cbiAgc2V0IG9wZW4odikge1xuICAgIGlmICh0aGlzLm9wZW4gIT09ICEhdikge1xuICAgICAgdGhpcy5kYXRhc2V0Lm9wZW4gPSAoISF2KS50b1N0cmluZygpO1xuICAgIH1cbiAgfVxufVxuXG5jb25zdCB0ZW1wbGF0ZSA9IC8qIGh0bWwgKi8gYFxuPHN0eWxlPlxuOmhvc3Qge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuZGl2LmxhYmVsIHtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG59XG46aG9zdCg6bm90KC5jbG9uZSkpIGRpdi5jb250ZW50IHtcbiAgICBtYXgtaGVpZ2h0OiAwO1xufVxuZGl2LmNvbnRlbnQsXG5kaXYuY29udGVudCBzbG90OjpzbG90dGVkKCopIHtcbiAgICB0cmFuc2l0aW9uOiBhbGwgdmFyKC0tdHJhbnNpdGlvbi1kdXJhdGlvbiwgMjUwbXMpIHZhcigtLXRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uLCBlYXNlLWluLW91dCk7XG59XG46aG9zdCg6bm90KC5jbG9uZSlbZGF0YS1vcGVuPVwidHJ1ZVwiXSkgZGl2LmNvbnRlbnQge1xuICAgIG1heC1oZWlnaHQ6IGNhbGModmFyKC0taGVpZ2h0KSAqIDFweCk7XG59XG46aG9zdCg6bm90KC5jbG9uZSk6bm90KFtkYXRhLW9wZW49XCJ0cnVlXCJdKSkgZGl2LmNvbnRlbnQgc2xvdDo6c2xvdHRlZCgqKSB7XG4gICAgbWFyZ2luLWJsb2NrOiAwO1xufVxuOmhvc3QoLmNsb25lKSB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGxlZnQ6IC0yMDB2dztcbiAgICB3aWR0aDogMTAwJTtcbn1cbjwvc3R5bGU+XG48ZGl2IGNsYXNzPVwibGFiZWxcIj48c2xvdCBuYW1lPVwibGFiZWxcIj48L3Nsb3Q+PC9kaXY+XG48ZGl2IGNsYXNzPVwiY29udGVudFwiPjxzbG90Pjwvc2xvdD48L2Rpdj5cbmA7XG5cbkFic3RyYWN0Q29tcG9uZW50LmluaXRDb21wb25lbnQoXCJhY2NvcmRpb24taXRlbVwiLCBBY2NvcmRpb25JdGVtLCB0ZW1wbGF0ZSk7XG4iLCAiaW1wb3J0IHsgQWJzdHJhY3RDb21wb25lbnQgfSBmcm9tIFwiLi4vLi4vQWJzdHJhY3QuanNcIjtcbmltcG9ydCBcIi4vSXRlbS5qc1wiO1xuXG4vKipcbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPEFjY29yZGlvbkl0ZW0+fSBpdGVtc1xuICovXG5jbGFzcyBBY2NvcmRpb24gZXh0ZW5kcyBBYnN0cmFjdENvbXBvbmVudCB7XG4gIC8qKiBAaW5oZXJpdGRvYyAqL1xuICBnZXQgZWxlbWVudHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGl0ZW1TbG90OiBcInNsb3RcIixcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVcbiAgICovXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgY29uc3QgZXZ0T3B0aW9ucyA9IHtcbiAgICAgIHNpZ25hbDogdGhpcy5kaXNjb25uZWN0ZWRTaWduYWwsXG4gICAgfTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCAoKSA9PiB0aGlzLnVwZGF0ZUl0ZW1MaXN0KCksIGV2dE9wdGlvbnMpO1xuICAgIHRoaXMuaXRlbVNsb3QuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwic2xvdGNoYW5nZVwiLFxuICAgICAgKCkgPT4gdGhpcy51cGRhdGVJdGVtTGlzdCgwKSxcbiAgICAgIGV2dE9wdGlvbnNcbiAgICApO1xuICAgIGlmICghc2NyZWVuLm9yaWVudGF0aW9uKSB7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJvcmllbnRhdGlvbmNoYW5nZVwiLFxuICAgICAgICAoKSA9PiB0aGlzLnVwZGF0ZUl0ZW1MaXN0KCksXG4gICAgICAgIGV2dE9wdGlvbnNcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjcmVlbi5vcmllbnRhdGlvbi5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBcImNoYW5nZVwiLFxuICAgICAgICAoKSA9PiB0aGlzLnVwZGF0ZUl0ZW1MaXN0KCksXG4gICAgICAgIGV2dE9wdGlvbnNcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMuaXRlbUNoYW5nZUhhbmRsZXIgPSB0aGlzLmhhbmRsZUl0ZW1DaGFuZ2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLml0ZW1zLmZvckVhY2goKGkpID0+XG4gICAgICBpLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgdGhpcy5pdGVtQ2hhbmdlSGFuZGxlciwgZXZ0T3B0aW9ucylcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBpdGVtIG9wZW4gc3RhdGUgY2hhbmdlXG4gICAqXG4gICAqIEBwYXJhbSB7Q3VzdG9tRXZlbnR9IGVcbiAgICovXG4gIGhhbmRsZUl0ZW1DaGFuZ2UoZSkge1xuICAgIHRoaXMuaXRlbXMuZm9yRWFjaCgoaSkgPT5cbiAgICAgIGkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCB0aGlzLml0ZW1DaGFuZ2VIYW5kbGVyKVxuICAgICk7XG4gICAgaWYgKGUuZGV0YWlsLm9wZW4gJiYgIXRoaXMubXVsdGkpIHtcbiAgICAgIHRoaXMuaXRlbXNcbiAgICAgICAgPy5maWx0ZXIoKGkpID0+IGkgIT09IGUuZGV0YWlsKVxuICAgICAgICAuZm9yRWFjaCgoaSkgPT4gKGkub3BlbiA9IGZhbHNlKSk7XG4gICAgfVxuICAgIHRoaXMuaXRlbXMuZm9yRWFjaCgoaSkgPT5cbiAgICAgIGkuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCB0aGlzLml0ZW1DaGFuZ2VIYW5kbGVyLCB7XG4gICAgICAgIHNpZ25hbDogdGhpcy5kaXNjb25uZWN0ZWRTaWduYWwsXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIGxpc3Qgb2YgaXRlbXNcbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGRlYm91bmNlXG4gICAqL1xuICB1cGRhdGVJdGVtTGlzdChkZWJvdW5jZSA9IG51bGwpIHtcbiAgICBjb25zdCB0aW1lb3V0ID0gZGVib3VuY2UgPz8gNTA7XG4gICAgaWYgKHRoaXMuZGVib3VuY2VUaW1lb3V0KSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5kZWJvdW5jZVRpbWVvdXQpO1xuICAgIH1cbiAgICB0aGlzLmRlYm91bmNlVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5pdGVtcy5mb3JFYWNoKChpKSA9PiBpLnVwZGF0ZSgpKTtcbiAgICB9LCB0aW1lb3V0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZSBhbGwgaXRlbXNcbiAgICovXG4gIGNsb3NlQWxsKCkge1xuICAgIHRoaXMuaXRlbXMuZm9yRWFjaCgoaSkgPT4gKGkub3BlbiA9IGZhbHNlKSk7XG4gIH1cblxuICAvKipcbiAgICogb2J0YWluIGl0ZW1zXG4gICAqL1xuICBnZXQgaXRlbXMoKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5xdWVyeVNlbGVjdG9yQWxsKFwiYWNjb3JkaW9uLWl0ZW06bm90KC5jbG9uZSlcIikpO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZSBpZiBhY2NvcmRpb24gY2FuIG9wZW4gbXVsdGlwbGUgdGFic1xuICAgKi9cbiAgZ2V0IG11bHRpKCkge1xuICAgIHJldHVybiBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgdGhpcy5kYXRhc2V0Lm11bHRpO1xuICB9XG59XG5cbmNvbnN0IHRlbXBsYXRlID0gLyogaHRtbCAqLyBgXG48c3R5bGU+XG46aG9zdCB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIGRpc3BsYXk6IGJsb2NrO1xufVxuPC9zdHlsZT5cbjxzbG90Pjwvc2xvdD5cbmA7XG5cbkFic3RyYWN0Q29tcG9uZW50LmluaXRDb21wb25lbnQoXCJhY2NvcmRpb24tYm94XCIsIEFjY29yZGlvbiwgdGVtcGxhdGUpO1xuIiwgImltcG9ydCB7IEFic3RyYWN0Q29tcG9uZW50IH0gZnJvbSBcIi4uL0Fic3RyYWN0LmpzXCI7XG5cbmNsYXNzIFRvZG8gZXh0ZW5kcyBBYnN0cmFjdENvbXBvbmVudCB7XG4gIC8qKiBAaW5oZXJpdGRvYyAqL1xuICBnZXQgZWxlbWVudHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJ1dHRvbjogXCJidXR0b25cIixcbiAgICAgIGlucHV0OiBcImlucHV0XCIsXG4gICAgfTtcbiAgfVxuXG4gIC8qKiBAaW5oZXJpdGRvYyAqL1xuICBnZXQgbGlzdGVuZXJzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBidXR0b246IHsgY2xpY2s6IHRoaXMuYWRkSGFuZGxlci5iaW5kKHRoaXMpIH0sXG4gICAgICBpbnB1dDogeyBrZXlkb3duOiB0aGlzLmFkZEhhbmRsZXIuYmluZCh0aGlzKSB9LFxuICAgIH07XG4gIH1cblxuICAvKiogQGluaGVyaXRkb2MgKi9cbiAgZ2V0IG11dGF0aW9ucygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcm9vdDogW3sgY2hpbGRMaXN0OiAobSwgbykgPT4gdGhpcy51cGRhdGVDb3VudGVyKG0sIG8pIH1dLFxuICAgIH07XG4gIH1cblxuICBnZXQgbXV0YXRpb25PYnNlcnZlck9wdGlvbnMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBjb3VudGVyXG4gICAqL1xuICB1cGRhdGVDb3VudGVyKCkge1xuICAgIHRoaXMuc2hhZG93LnF1ZXJ5U2VsZWN0b3IoXCJoMyBzcGFuOmZpcnN0LW9mLXR5cGVcIikuaW5uZXJIVE1MID0gdGhpcy50b2Rvc1xuICAgICAgLmZpbHRlcigodCkgPT4gdC5kb25lKVxuICAgICAgLmxlbmd0aC50b1N0cmluZygpO1xuICAgIHRoaXMuc2hhZG93LnF1ZXJ5U2VsZWN0b3IoXCJoMyBzcGFuOmxhc3Qtb2YtdHlwZVwiKS5pbm5lckhUTUwgPVxuICAgICAgdGhpcy50b2Rvcy5sZW5ndGgudG9TdHJpbmcoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgYWRkIHRvZG9cbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fEtleWJvYXJkRXZlbnR9IGVcbiAgICovXG4gIGFkZEhhbmRsZXIoZSkge1xuICAgIGlmIChlLnR5cGUgPT09IFwia2V5ZG93blwiICYmIGUuY29kZSAhPT0gXCJFbnRlclwiKSByZXR1cm47XG4gICAgaWYgKHRoaXMuaW5wdXQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuYWRkVG9kbyh0aGlzLmlucHV0LnZhbHVlKTtcbiAgICAgIHRoaXMuaW5wdXQudmFsdWUgPSBcIlwiO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgdG9kb1xuICAgKiBAcGFyYW0ge1N0cmluZ30gbGFiZWxcbiAgICovXG4gIGFkZFRvZG8obGFiZWwpIHtcbiAgICBjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRvZG8taXRlbVwiKTtcbiAgICBpdGVtLmRhdGFzZXQubGFiZWwgPSBsYWJlbDtcbiAgICB0aGlzLmFwcGVuZENoaWxkKGl0ZW0pO1xuICB9XG5cbiAgLyoqXG4gICAqIE9idGFpbiB0b2Rvc1xuICAgKiBAcmV0dXJucyB7QXJyYXkuPE9iamVjdC48U3RyaW5nOiBsYWJlbCwgQm9vbGVhbjogZG9uZT4+fVxuICAgKi9cbiAgZ2V0IHRvZG9zKCkge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMucXVlcnlTZWxlY3RvckFsbChcInRvZG8taXRlbVwiKSkubWFwKChpKSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsYWJlbDogaS5sYWJlbCxcbiAgICAgICAgZG9uZTogaS5jaGVja2VkLFxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdG9kb3NcbiAgICogQHBhcmFtIHtBcnJheS48U3RyaW5nPn0gdlxuICAgKi9cbiAgc2V0IHRvZG9zKHYpIHtcbiAgICB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoXCJ0b2RvLWl0ZW1cIikuZm9yRWFjaCgoaSkgPT4gaS5kZWxldGUoKSk7XG4gICAgdi5mb3JFYWNoKChpKSA9PiB0aGlzLmFkZFRvZG8odikpO1xuICB9XG59XG5cblRvZG8ucHJvdG90eXBlLnRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRlbXBsYXRlXCIpO1xuVG9kby5wcm90b3R5cGUudGVtcGxhdGUuaW5uZXJIVE1MID0gLypodG1sKi8gYFxuPHN0eWxlPlxuLmFkZCB7XG4gIHBhZGRpbmc6IHZhcigtLWxpc3QtaXRlbS1wYWRkaW5nKTtcbiAgZGlzcGxheTogZmxleDtcbiAgZ2FwOiB2YXIoLS1pdGVtLXBhZGRpbmctaW5saW5lKTtcbn1cbjwvc3R5bGU+XG48aDI+PHNsb3QgbmFtZT1cImhlYWRlclwiPllvdSBzaG91bGQgc2V0IGEgaGVhZGVyPC9zbG90PjwvaDI+XG48aDM+RG9uZTogPHNwYW4+PC9zcGFuPiAvIDxzcGFuPjwvc3Bhbj48L2gzPlxuPHNlY3Rpb24gY2xhc3M9XCJhZGRcIj5cbiAgPGlucHV0IHBsYWNlaG9sZGVyPVwiVG9kb1wiIHJlcXVpcmVkIG1pbj1cIjNcIj48YnV0dG9uPkFkZDwvYnV0dG9uPlxuPC9zZWN0aW9uPlxuPHNlY3Rpb24gY2xhc3M9XCJpdGVtc1wiPlxuICAgIDxzbG90Pjwvc2xvdD5cbjwvc2VjdGlvbj5cbmA7XG5cbmN1c3RvbUVsZW1lbnRzLmRlZmluZShcInRvZG8tbGlzdFwiLCBUb2RvKTtcbiIsICJpbXBvcnQgeyBBYnN0cmFjdENvbXBvbmVudCB9IGZyb20gXCIuLi9BYnN0cmFjdC5qc1wiO1xuXG5jbGFzcyBJdGVtIGV4dGVuZHMgQWJzdHJhY3RDb21wb25lbnQge1xuICBzdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcygpIHtcbiAgICByZXR1cm4gW1wiZGF0YS1kb25lXCJdO1xuICB9XG5cbiAgLyoqIEBpbmhlcml0ZG9jICovXG4gIGdldCBlbGVtZW50cygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYnV0dG9uOiBcImJ1dHRvblwiLFxuICAgICAgaW5wdXQ6IFwiaW5wdXRcIixcbiAgICB9O1xuICB9XG5cbiAgLyoqIEBpbmhlcml0ZG9jICovXG4gIGdldCBsaXN0ZW5lcnMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJ1dHRvbjogeyBjbGljazogdGhpcy5kZWxldGVIYW5kbGVyLmJpbmQodGhpcykgfSxcbiAgICAgIGlucHV0OiB7IGNoYW5nZTogdGhpcy51cGRhdGVIYW5kbGVyLmJpbmQodGhpcykgfSxcbiAgICB9O1xuICB9XG5cbiAgLyoqIEBpbmhlcml0ZG9jICovXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgdGhpcy5sYWJlbCA9IHRoaXMuZGF0YXNldC5sYWJlbDtcbiAgICB0aGlzLmNoZWNrZWQgPSB0aGlzLmRhdGFzZXQuZG9uZSA9PT0gXCJ0cnVlXCI7XG4gICAgdGhpcy5wYXJlbnROb2RlLnVwZGF0ZUNvdW50ZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgYXR0cmlidXRlIGNoYW5nZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gb2xkVmFsdWVcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5ld1ZhbHVlXG4gICAqL1xuICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XG4gICAgaWYgKCF0aGlzLmlucHV0IHx8IG9sZFZhbHVlID09PSBuZXdWYWx1ZSkgcmV0dXJuO1xuICAgIGlmIChcImRhdGEtZG9uZVwiID09PSBuYW1lKSB7XG4gICAgICB0aGlzLmNoZWNrZWQgPSBuZXdWYWx1ZSA9PT0gXCJ0cnVlXCI7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZVxuICAgKi9cbiAgdXBkYXRlSGFuZGxlcigpIHtcbiAgICB0aGlzLmRhdGFzZXQuZG9uZSA9IHRoaXMuY2hlY2tlZC50b1N0cmluZygpO1xuICAgIHRoaXMudG9nZ2xlTGluZVRocm91Z2goKTtcbiAgICB0aGlzLnBhcmVudE5vZGUudXBkYXRlQ291bnRlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIERlbGV0ZVxuICAgKi9cbiAgZGVsZXRlSGFuZGxlcigpIHtcbiAgICB0aGlzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcyk7XG4gIH1cblxuICB0b2dnbGVMaW5lVGhyb3VnaCgpIHtcbiAgICB0aGlzLmlucHV0LnBhcmVudE5vZGUuY2xhc3NMaXN0LnRvZ2dsZShcImRvbmVcIiwgdGhpcy5jaGVja2VkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPYnRhaW4gY2hla2VkIHN0YXRlXG4gICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgKi9cbiAgZ2V0IGNoZWNrZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5wdXQuY2hlY2tlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgY2hlY2tlZCBzdGF0ZVxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IHZcbiAgICovXG4gIHNldCBjaGVja2VkKHYpIHtcbiAgICBpZiAodGhpcy5jaGVja2VkICE9PSAhIXYpIHtcbiAgICAgIHRoaXMuaW5wdXQuY2hlY2tlZCA9ICEhdjtcbiAgICAgIHRoaXMudG9nZ2xlTGluZVRocm91Z2goKTtcbiAgICAgIHRoaXMuaW5wdXQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJjaGFuZ2VcIikpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBPYnRhaW4gbGFiZWxcbiAgICogQHJldHVybnMge1N0cmluZ31cbiAgICovXG4gIGdldCBsYWJlbCgpIHtcbiAgICByZXR1cm4gdGhpcy5zaGFkb3cucXVlcnlTZWxlY3RvcihcImxhYmVsIHNwYW5cIikuaW5uZXJIVE1MO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBsYWJlbFxuICAgKiBAcGFyYW0ge1N0cmluZ30gdlxuICAgKi9cbiAgc2V0IGxhYmVsKHYpIHtcbiAgICB0aGlzLnNoYWRvdy5xdWVyeVNlbGVjdG9yKFwibGFiZWwgc3BhblwiKS5pbm5lckhUTUwgPSB2O1xuICB9XG59XG5cbkl0ZW0ucHJvdG90eXBlLnRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRlbXBsYXRlXCIpO1xuSXRlbS5wcm90b3R5cGUudGVtcGxhdGUuaW5uZXJIVE1MID0gLyogaHRtbCAqLyBgXG48c3R5bGU+XG46aG9zdCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgYmFja2dyb3VuZDogdmFyKC0tY2xyLWJnLWxpc3QtaXRlbSk7XG4gIHBhZGRpbmc6IHZhcigtLWxpc3QtaXRlbS1wYWRkaW5nKTtcbn1cbjpob3N0KDpob3Zlcikge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jbHItYmctbGlzdC1pdGVtLWhvdmVyKTtcbn1cbmxhYmVsLmRvbmUgc3BhbiB7XG4gIHRleHQtZGVjb3JhdGlvbjogbGluZS10aHJvdWdoO1xufVxuPC9zdHlsZT5cbjxsYWJlbD5cbiAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCI+XG4gICAgPHNwYW4+PC9zcGFuPlxuPC9sYWJlbD5cbjxidXR0b24+RGVsZXRlPC9idXR0b24+XG5gO1xuXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoXCJ0b2RvLWl0ZW1cIiwgSXRlbSk7XG4iLCAiZXhwb3J0IGNsYXNzIFJvdXRlciB7XG4gICNfcm91dGVzID0gW107XG4gICNfaW5pdGlhbCA9IFwiL1wiO1xuICAjX2N1cnJlbnQgPSBcIi9cIjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmN1cnJlbnQgPSBsb2NhdGlvbi5wYXRobmFtZTtcbiAgICB0aGlzLmluaXRpYWwgPSB0aGlzLmN1cnJlbnQ7XG4gICAgdGhpcy5hYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgdGhpcy5hYm9ydFNpZ25hbCA9IHRoaXMuYWJvcnRDb250cm9sbGVyLnNpZ25hbDtcbiAgICBhZGRFdmVudExpc3RlbmVyKFwicG9wc3RhdGVcIiwgKGUpID0+IHRoaXMuaGFuZGxlSGlzdG9yeVBvcChlKSk7XG4gIH1cblxuICAvKipcbiAgICogRGVmaW5lIHJvdXRlc1xuICAgKiBAcGFyYW0ge1N0cmluZ30gcm91dGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICovXG4gIHJvdXRlKHJvdXRlID0gXCIvXCIsIGNiID0gKCkgPT4ge30pIHtcbiAgICB0aGlzLnJvdXRlcy5wdXNoKHsgcm91dGUsIGNiIH0pO1xuICAgIHRoaXMuYWRkTGlzdGVuZXIocm91dGUsIGNiKTtcbiAgfVxuXG4gIGFkZExpc3RlbmVyKHJvdXRlLCBjYikge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYFtocmVmPVwiLyR7cm91dGV9XCJdYCkuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBcImNsaWNrXCIsXG4gICAgICAgIChlKSA9PiB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHRoaXMucHVzaChyb3V0ZSk7XG4gICAgICAgICAgY2IoKTtcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHNpZ25hbDogdGhpcy5hYm9ydFNpZ25hbCxcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuXG4gIGFkZExpc3RlbmVycygpIHtcbiAgICB0aGlzLnJvdXRlcy5mb3JFYWNoKChpKSA9PiB0aGlzLmFkZExpc3RlbmVyKGkucm91dGUsIGkuY2IpKTtcbiAgfVxuXG4gIHB1c2gocm91dGUpIHtcbiAgICBoaXN0b3J5LnB1c2hTdGF0ZShyb3V0ZSwgXCJcIiwgcm91dGUpO1xuICB9XG5cbiAgaGFuZGxlSGlzdG9yeVBvcChlKSB7XG4gICAgdGhpcy5hYm9ydENvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUgPT09IHRoaXMuaW5pdGlhbCkge1xuICAgICAgLy8gV2UgcmVsb2FkIHRoZSBwYWdlIHNpbmNlIHdlIGNhbm5vdCBrbm93IGhvdyB0byByZWNyZWF0ZSB0aGlzIHZpZXdcbiAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBydW4gdGhlIGFzc2lvY2lhdGVkIGNhbGxiYWNrIG90aGVyd2lzZVxuICAgICAgdGhpcy5yb3V0ZXMuZmluZCgocikgPT4gZS5zdGF0ZSA9PT0gci5yb3V0ZSk/LmNiPy4oKTtcbiAgICB9XG4gIH1cblxuICBnZXQgaW5pdGlhbCgpIHtcbiAgICByZXR1cm4gdGhpcy4jX2luaXRpYWw7XG4gIH1cbiAgc2V0IGluaXRpYWwodikge1xuICAgIHRoaXMuI19pbml0aWFsID0gdjtcbiAgfVxuXG4gIGdldCByb3V0ZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuI19yb3V0ZXM7XG4gIH1cbiAgc2V0IHJvdXRlcyh2KSB7XG4gICAgdGhpcy4jX3JvdXRlcyA9IHY7XG4gIH1cblxuICBnZXQgY3VycmVudCgpIHtcbiAgICByZXR1cm4gdGhpcy4jX2N1cnJlbnQ7XG4gIH1cbiAgc2V0IGN1cnJlbnQodikge1xuICAgIHRoaXMuI19jdXJyZW50ID0gdjtcbiAgfVxufVxuIiwgImltcG9ydCBcIi4vQ29tcG9uZW50cy9DYXRlZ29yeS9pbmRleC5qc1wiO1xuXG5jb25zdCBjbGVhckJvZHkgPSAoKSA9PiB7XG4gIGRvY3VtZW50LmJvZHlcbiAgICAucXVlcnlTZWxlY3RvckFsbChcIjpzY29wZSA+ICpcIilcbiAgICAuZm9yRWFjaCgobikgPT4gZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChuKSk7XG59O1xuXG5leHBvcnQgY29uc3QgaW5pdCA9IChyb3V0ZXIpID0+IHtcbiAgcm91dGVyLnJvdXRlKFwicm91dGVyLXRlc3RcIiwgKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwiUm91dGVkIHRvIHJvdXRlci10ZXN0XCIpO1xuICAgIGNsZWFyQm9keSgpO1xuICAgIGNvbnN0IG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2F0ZWdvcnktbGlzdFwiKTtcbiAgICBub2RlLmRhdGFzZXQucHdhID0gXCJ0cnVlXCI7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChub2RlKTtcbiAgfSk7XG59O1xuIiwgImltcG9ydCBcIi4vQ29tcG9uZW50cy9idWlsZC5qc1wiO1xuaW1wb3J0IHsgUm91dGVyIH0gZnJvbSBcIi4vUm91dGVyLmpzXCI7XG5pbXBvcnQgeyBpbml0IGFzIGluaXRSb3V0ZXMgfSBmcm9tIFwiLi9yb3V0ZXMuanNcIjtcblxuY29uc3Qgcm91dGVyID0gbmV3IFJvdXRlcigpO1xuaW5pdFJvdXRlcyhyb3V0ZXIpO1xuIl0sCiAgIm1h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S0FBS1QsR0FBV1MsQ0FDbEIsQ0FFQSxJQUFJLFNBQVUsQ0FDWixPQUFPLEtBQUtQLEVBQ2QsQ0FDQSxJQUFJLFFBQVFPLEVBQUcsQ0FDYixLQUFLUCxHQUFZTyxDQUNuQixDQUNGLEVDNUVBLElBQU1DLEVBQVksSUFBTSxDQUN0QixTQUFTLEtBQ04saUJBQWlCLFlBQVksRUFDN0IsUUFBUyxHQUFNLFNBQVMsS0FBSyxZQUFZLENBQUMsQ0FBQyxDQUNoRCxFQUVhQyxFQUFRQyxHQUFXLENBQzlCQSxFQUFPLE1BQU0sY0FBZSxJQUFNLENBQ2hDLFFBQVEsSUFBSSx1QkFBdUIsRUFDbkNGLEVBQVUsRUFDVixJQUFNRyxFQUFPLFNBQVMsY0FBYyxlQUFlLEVBQ25EQSxFQUFLLFFBQVEsSUFBTSxPQUNuQixTQUFTLEtBQUssWUFBWUEsQ0FBSSxDQUNoQyxDQUFDLENBQ0gsRUNaQSxJQUFNQyxFQUFTLElBQUlDLEVBQ25CQyxFQUFXRixDQUFNIiwKICAibmFtZXMiOiBbIk1VVEFUSU9OX09CU0VSVkVSX09QVElPTlMiLCAiQWJzdHJhY3RDb21wb25lbnQiLCAic2VsZWN0b3IiLCAibm9kZXMiLCAiY29uZmlnIiwgImNiIiwgImV2ZW50IiwgIm5vZGUiLCAiZWxlbWVudCIsICJvcHRpb25zIiwgIm11dGF0aW9uTGlzdCIsICJvYnNlcnZlciIsICJtdXRhdGlvbiIsICJjYWxsYmFja3MiLCAiYyIsICJpIiwgImNvbmZpZ3MiLCAibmFtZSIsICJjb21wb25lbnQiLCAidGVtcGxhdGUiLCAiSVRFTVNfQ09VTlQiLCAiSVRFTVNfVVJMIiwgIkxpc3QiLCAiQWJzdHJhY3RDb21wb25lbnQiLCAiaXRlbXMiLCAibm9kZXMiLCAiZXJyb3IiLCAicCIsICJub2RlIiwgImsiLCAidGVtcGxhdGUiLCAiSXRlbSIsICJBYnN0cmFjdENvbXBvbmVudCIsICIjX2RhdGEiLCAibmFtZSIsICJvbGRWYWx1ZSIsICJuZXdWYWx1ZSIsICJwcm9wIiwgImRhdGEiLCAidiIsICJ0ZW1wbGF0ZSIsICJIb3ZlciIsICJBYnN0cmFjdENvbXBvbmVudCIsICJ0ZW1wbGF0ZSIsICJBY2NvcmRpb25JdGVtIiwgIkFic3RyYWN0Q29tcG9uZW50IiwgIm5hbWUiLCAib2xkVmFsdWUiLCAibmV3VmFsdWUiLCAidiIsICJfX3B1YmxpY0ZpZWxkIiwgInRlbXBsYXRlIiwgIkFjY29yZGlvbiIsICJBYnN0cmFjdENvbXBvbmVudCIsICJldnRPcHRpb25zIiwgImkiLCAiZSIsICJkZWJvdW5jZSIsICJ0aW1lb3V0IiwgInRlbXBsYXRlIiwgIlRvZG8iLCAiQWJzdHJhY3RDb21wb25lbnQiLCAibSIsICJvIiwgImUiLCAibGFiZWwiLCAiaXRlbSIsICJpIiwgInYiLCAiSXRlbSIsICJBYnN0cmFjdENvbXBvbmVudCIsICJuYW1lIiwgIm9sZFZhbHVlIiwgIm5ld1ZhbHVlIiwgInYiLCAiUm91dGVyIiwgIiNfcm91dGVzIiwgIiNfaW5pdGlhbCIsICIjX2N1cnJlbnQiLCAiZSIsICJyb3V0ZSIsICJjYiIsICJub2RlIiwgImkiLCAiciIsICJ2IiwgImNsZWFyQm9keSIsICJpbml0IiwgInJvdXRlciIsICJub2RlIiwgInJvdXRlciIsICJSb3V0ZXIiLCAiaW5pdCJdCn0K
